(this["webpackJsonpconsole-ui"]=this["webpackJsonpconsole-ui"]||[]).push([[8],{219:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,c=n(226),a=n.n(c),s=n(227);n(228);function i(e){var t="";if(e){var n=[];for(var r in e)r&&n.push("".concat(r,"=").concat(e[r]));n.length>0&&(t="?"+n.join("&"))}return t}function o(e,t){return e===r.GET?{}:{method:e,body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=utf-8"}}}function u(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(a.a.mark((function e(t,n,c){var s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="",n===r.GET&&(s=i(c)),e.next=4,fetch(t+s,o(n,c));case 4:if(!(u=e.sent).ok){e.next=7;break}return e.abrupt("return",u.json());case 7:throw new Error(u.statusText);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(a.a.mark((function e(t,n,c){var s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="",n===r.GET&&(s=i(c)),e.next=4,fetch(t+s,o(n,c));case 4:if(!(u=e.sent).ok){e.next=7;break}return e.abrupt("return",u.text());case 7:throw new Error(u.statusText);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(r||(r={}))},220:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var r="http://localhost:9080",c=(r="")+"/console/namespace/names",a=r+"/console/namespaces",s=r+"/console/cluster/nodes",i=r+"/console/services",o=r+"/console/instances",u=r+"/api/instance"},267:function(e,t,n){"use strict";n.r(t);var r,c=n(43),a=n(0),s=n.n(a),i=n(9),o=n(263),u=n(264),f=n(125),d=n(260),p=n(257),l=n(219),j=n(220);!function(e){e.HEALTHY="HEALTHY",e.UN_HEALTHY="UN_HEALTHY",e.DISABLE="DISABLE",e.UNKNOWN="UNKNOWN"}(r||(r={}));var b=n(120),x=n(11),h=o.a.Column,E=s.a.useState,O=s.a.useEffect;t.default=function(){var e=Object(i.f)(),t=e.namespace,n=e.serviceName,a=E([]),s=Object(c.a)(a,2),m=s[0],v=s[1],T=E(!0),N=Object(c.a)(T,2),I=N[0],L=N[1],k=function(e){u.a.confirm({title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",icon:Object(x.jsx)(b.a,{}),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){var r;(r={namespace:t,cluster:e.cluster,serviceName:e.serviceName,ip:e.ip,port:e.port},Object(l.c)(j.b,l.a.DELETE,r)).then((function(){w({namespace:t,serviceName:n})})).catch((function(e){f.b.error("\u5220\u9664\u5b9e\u4f8b\u5931\u8d25\uff1a"+e.message)}))}})},w=function(e){var t;(t=e,Object(l.b)(j.c,l.a.GET,t)).then((function(e){v(e.instanceList),L(!1)})).catch((function(e){f.b.error("\u83b7\u53d6\u5b9e\u4f8b\u5217\u8868\u5931\u8d25\uff1a"+e.message)}))};return O((function(){w({namespace:t,serviceName:n})}),[t,n]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(o.a,{rowKey:function(e){return e.instanceId},dataSource:m,loading:I,pagination:!1,children:[Object(x.jsx)(h,{title:"\u5b9e\u4f8b ID",dataIndex:"instanceId"},"instanceId"),Object(x.jsx)(h,{title:"\u96c6\u7fa4",dataIndex:"cluster"},"cluster"),Object(x.jsx)(h,{title:"\u670d\u52a1\u540d",dataIndex:"serviceName"},"serviceName"),Object(x.jsx)(h,{title:"IP",dataIndex:"ip"},"ip"),Object(x.jsx)(h,{title:"\u7aef\u53e3",dataIndex:"port"},"port"),Object(x.jsx)(h,{title:"\u72b6\u6001",dataIndex:"status",render:function(e){var t="green";return e===r.UN_HEALTHY?t="orange":e===r.DISABLE&&(t="red"),Object(x.jsx)(d.a,{color:t,children:e})}},"status"),Object(x.jsx)(h,{title:"\u64cd\u4f5c",render:function(e,t){return Object(x.jsx)(p.b,{size:"middle",children:Object(x.jsx)("a",{onClick:function(){k(t)},children:"\u5220\u9664\u5b9e\u4f8b"})})}},"action")]})})}}}]);
//# sourceMappingURL=8.67cfb32d.chunk.js.map